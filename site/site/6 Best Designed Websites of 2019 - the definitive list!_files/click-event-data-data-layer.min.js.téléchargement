!function(){var t=!1;function e(e){var n={};function a(t){return t.closest("[data-eventcategory]").attr("data-eventcategory")}function i(t){return"string"==typeof t.attr("data-eventaction")&&""!==t.attr("data-eventaction")?t.attr("data-eventaction"):t.closest("[data-eventaction]").attr("data-eventaction")}function o(t){n.eventCategory=t+"_"+n.eventCategory}e(document).on("click","a, button",function(r){var c,v;if(n={event:"_trackEvent",eventCategory:"",eventAction:"",eventLabel:""},e(this).closest('[data-eventcategory="content-element"]').length&&"content-element"===a(e(this))?(n.eventCategory=a(e(this)),void 0!==i(e(this))?n.eventAction=i(e(this)):e(this).children("img").length?n.eventAction="image":n.eventAction="text-link"):"string"==typeof a(e(this))&&""!==a(e(this))?(n.eventCategory=a(e(this)),i(e(this))?n.eventAction=i(e(this)):n.eventAction=window.location.href):(n.eventCategory="Unknown",n.eventAction=window.location.href),e(this).is("button"))t?(o("Navigation"),c=t):(o("Interaction"),void 0===(c="string"==typeof(v=e(this)).attr("data-eventlabel")&&""!==v.attr("data-eventlabel")?v.attr("data-eventlabel"):v.closest("[data-eventlabel]").attr("data-eventlabel"))&&(c=e(this).text().toLowerCase().replace(" ","-").replace(/\s/g,""))),0==e.trim(c).length&&(c=e(this).attr("title").toLowerCase().replace(" ","-").replace(/\s/g,"")),n.eventLabel=c;else if("#"===e(this).attr("href").substring(0,1))o("Interaction"),n.eventLabel=e(this).attr("href");else if(e(this).attr("href").match(/\/go\//g)){o("Conversion");var s=e(this).attr("href").match(/\/go\/([a-zA-z\-_0-9]*)/)[1]||"",l=s.match(/([a-zA-Z0-9_]*)-/)||!1;l&&(s=l[1]),n.eventLabel=s}else e(this).attr("href").match(/click\.websitebuilderexpert\.com/g)?(o("Conversion"),n.eventLabel=e(this).attr("href")):(o("Navigation"),n.eventLabel=e(this).attr("href"));dataLayer.push(n)})}jQuery(document).ready(function(t){e(t)}),document.addEventListener("om.Campaign.load",function(t){var e=jQuery("#"+t.detail.Campaign.viewDiv.id).find("a, button");if(e.length){var n=t.detail.Campaign.name;jQuery.each(e,function(t,e){jQuery(e).attr({"data-eventcategory":"om-element","data-eventaction":"om-"+n})})}}),document.addEventListener("om.Action.redirect",function(e){e.detail.Action.options.url&&(t=e.detail.Action.options.url)})}();